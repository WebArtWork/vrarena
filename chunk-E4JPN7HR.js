import{A as y,B as x,Ha as E,I as O,Ia as S,J as c,N as D,Na as T,O as P,R as g,T as _,V as b,X as o,Y as s,Z as k,aa as f,ba as p,ca as l,ka as h,la as u,ma as I,s as w,sa as Y,tb as $,ub as F,x as v,y as C,z as M}from"./chunk-ML3SWCJJ.js";var V=()=>[1,2,3,4,5,6,7];function z(i,d){if(i&1&&(o(0,"span",20),h(1),s()),i&2){let e=l().$implicit,t=l(2);c(),u(t.dayTitle[e])}}function B(i,d){if(i&1){let e=f();o(0,"div",23),p("click",function(n){let r=v(e).$implicit;return l(4).eventClicked(r),C(n.stopPropagation())}),s()}}function L(i,d){if(i&1&&(o(0,"span",21)(1,"span",21),h(2),s(),o(3,"div"),g(4,B,1,0,"div",22),s()()),i&2){let e=l().$implicit,t=l(2);c(2),u(t.startDay+e),c(2),_("ngForOf",t.eventsByDate[t.toDate(t.previousYear,t.previousMonth+1,t.startDay+e)])}}function W(i,d){if(i&1){let e=f();o(0,"div",23),p("click",function(n){let r=v(e).$implicit;return l(4).eventClicked(r),C(n.stopPropagation())}),s()}}function H(i,d){if(i&1&&(o(0,"span")(1,"div",21),h(2),s(),o(3,"div"),g(4,W,1,0,"div",22),s()()),i&2){let e=l().$implicit,t=l().index,n=l();c(2),I(" ",e+t*7-n.skipDays," "),c(2),_("ngForOf",n.eventsByDate[n.toDate(n.currentYear,n.currentMonth,e+t*7-n.skipDays)])}}function j(i,d){if(i&1){let e=f();o(0,"div",23),p("click",function(n){let r=v(e).$implicit;return l(4).eventClicked(r),C(n.stopPropagation())}),s()}}function R(i,d){if(i&1&&(o(0,"span")(1,"div"),h(2),s(),o(3,"div"),g(4,j,1,0,"div",22),s()()),i&2){let e=l().$implicit,t=l(2);c(2),u(e-t.keepDays),c(2),_("ngForOf",t.eventsByDate[t.toDate(t.nextYear,t.nextMonth+1,e-t.keepDays)])}}function G(i,d){if(i&1){let e=f();o(0,"span",16),p("click",function(){let n=v(e).$implicit,r=l().index,a=l();return C(a.onClick(!r&&a.skipDays>=n?a.toDate(a.previousYear,a.previousMonth,a.startDay+n):r===a.weeksInMonth.length-1&&a.keepDays<n?a.toDate(a.nextYear,a.nextMonth,n-a.keepDays):a.toDate(a.currentYear,a.currentMonth,n+r*7-a.skipDays)))}),g(1,z,2,1,"span",17)(2,L,5,2,"span",18)(3,H,5,2,"span",19)(4,R,5,2,"span",19),s()}if(i&2){let e=d.$implicit,t=l().index,n=l();c(),_("ngIf",!t),c(),_("ngIf",!t&&n.skipDays>=e),c(),_("ngIf",t&&t!==n.weeksInMonth.length-1||t===n.weeksInMonth.length-1&&n.keepDays>=e||!t&&n.skipDays<e),c(),_("ngIf",t===n.weeksInMonth.length-1&&n.keepDays<e)}}function Z(i,d){if(i&1&&(o(0,"div",13)(1,"span",14),h(2),s(),g(3,G,5,4,"span",15),s()),i&2){let e=d.$implicit;c(2),u(e),c(),_("ngForOf",Y(2,V))}}var ee=(()=>{class i{constructor(){this.eventsByDate={},this.todayClicked=new x,this.dateClicked=new x,this.createEvent=new x,this.updateEvent=new x,this.dayTitle={1:"\u041F\u041D",2:"\u0412\u0422",3:"\u0421\u0420",4:"\u0427\u0422",5:"\u041F\u0422",6:"\u0421\u0411",7:"\u041D\u0414"},this.monthTitle={0:"\u0421\u0456\u0447\u0435\u043D\u044C",1:"\u041B\u044E\u0442\u0438\u0439",2:"\u0411\u0435\u0440\u0435\u0437\u0435\u043D\u044C",3:"\u041A\u0432\u0456\u0442\u0435\u043D\u044C",4:"\u0422\u0440\u0430\u0432\u0435\u043D\u044C",5:"\u0427\u0435\u0440\u0432\u0435\u043D\u044C",6:"\u041B\u0438\u043F\u0435\u043D\u044C",7:"\u0421\u0435\u0440\u043F\u0435\u043D\u044C",8:"\u0412\u0435\u0440\u0435\u0441\u0435\u043D\u044C",9:"\u0416\u043E\u0432\u0442\u0435\u043D\u044C",10:"\u041B\u0438\u0441\u0442\u043E\u043F\u0430\u0434",11:"\u0413\u0440\u0443\u0434\u0435\u043D\u044C"},this.currentMonth=new Date().getMonth(),this.currentYear=new Date().getFullYear(),this.weeksInMonth=[],this.startDay=0,this.skipDays=0,this.keepDays=0,this.selectedDate=localStorage.getItem("travel_selectedDate")||"",this._onMonthChange(),this.onResize()}setNow(){this.currentMonth=new Date().getMonth(),this.currentYear=new Date().getFullYear(),this._onMonthChange(),this.selectedDate=this.date({year:this.currentYear,month:this.currentMonth+1,day:new Date().getDate()})}setPreviousMonth(){this.currentMonth--,this.currentMonth===-1&&(this.currentMonth=11,this.currentYear--),this._onMonthChange()}setNextMonth(){this.currentMonth++,this.currentMonth===12&&(this.currentMonth=0,this.currentYear++),this._onMonthChange()}_onMonthChange(){this.currentMonth===11?(this.previousMonth=10,this.previousYear=this.currentYear,this.nextMonth=0,this.nextYear=this.currentYear+1):this.currentMonth===0?(this.previousMonth=11,this.previousYear=this.currentYear-1,this.nextMonth=1,this.nextYear=this.currentYear):(this.previousMonth=this.currentMonth-1,this.previousYear=this.currentYear,this.nextMonth=this.currentMonth+1,this.nextYear=this.currentYear);let e=new Date(this.currentYear,this.currentMonth,1),t=this.getWeekNumber(e);this.weeksInMonth=[];let n=this.getWeeksInMonth(this.currentMonth,this.currentYear);for(let m=0;m<n;m++)this.weeksInMonth.push(t+m);this.skipDays=(e.getDay()===0?7:e.getDay())-1;let r=this.currentMonth>1?this.getDaysInMonth(this.currentMonth-1,this.currentYear):this.getDaysInMonth(11,this.currentYear-1),a=this.getDaysInMonth(this.currentMonth,this.currentYear);this.startDay=r-this.skipDays,this.keepDays=(a+this.skipDays)%7,(!this.selectedDate||this.selectedDate.split(".")[0]!==this.currentYear.toString()||this.selectedDate.split(".")[1]!==(this.currentMonth-1).toString())&&(this.selectedDate="")}onResize(){this.isMobile=window.innerWidth<=768}toDate(e,t,n,r="."){return`${e}${r}${t}${r}${n}`}onClick(e){this.selectedDate=e,localStorage.setItem("travel_selectedDate",e),this.dateClicked.emit(this.date({year:Number(e.split(".")[0]),month:Number(e.split(".")[1])+1,day:Number(e.split(".")[2])})),this.createEvent.emit({year:Number(e.split(".")[0]),month:Number(e.split(".")[1]),day:Number(e.split(".")[2])})}eventClicked(e){this.selectedDate=this.date(e),this.updateEvent.emit(e)}getWeekNumber(e){let t=new Date(e.getFullYear(),0,1),n=e.getTime()-t.getTime(),r=Math.floor(n/864e5);return Math.floor((r+t.getDay())/7)+1}getWeeksInMonth(e,t){let n=new Date(t,e,1),r=new Date(t,e+1,0),a=this.getWeekNumber(n),m=this.getWeekNumber(r);return a>m&&(m=this.getWeekNumber(new Date(t,11,31))),m-a+1}getDaysInMonth(e,t){return new Date(t,e+1,0).getDate()}date(e,t="."){return`${e.year}${t}${e.month}${t}${e.day}`}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=D({type:i,selectors:[["wcalendar"]],hostBindings:function(t,n){t&1&&p("resize",function(){return n.onResize()},!1,O)},inputs:{eventsByDate:"eventsByDate"},outputs:{todayClicked:"todayClicked",dateClicked:"dateClicked",createEvent:"createEvent",updateEvent:"updateEvent"},standalone:!1,decls:19,vars:5,consts:[[1,"calendar-nav"],[1,"calendar-nav__today"],[3,"click"],[1,"calendar-nav-year"],[1,"calendar-nav-year__buttons"],[1,"material-icons","arrow-back",3,"click"],["width","34","height","34","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.94961 2.7043L8.89219 2.75352L4.61289 6.47227C4.46797 6.59805 4.37773 6.78672 4.37773 6.99727C4.37773 7.20781 4.4707 7.39648 4.61289 7.52227L8.88398 11.2383L8.95508 11.3012C9.02344 11.3477 9.10547 11.375 9.19297 11.375C9.43086 11.375 9.625 11.1727 9.625 10.9211L9.625 3.07891C9.625 2.82734 9.43086 2.625 9.19297 2.625C9.10273 2.625 9.01797 2.65508 8.94961 2.7043Z","fill","black"],[1,"calendar-nav-year__data"],[1,"material-icons","arrow-next",3,"click"],["d","M5.05039 11.2957L5.10781 11.2465L9.38711 7.52773C9.53203 7.40195 9.62227 7.21328 9.62227 7.00273C9.62227 6.79219 9.5293 6.60352 9.38711 6.47773L5.11602 2.76172L5.04492 2.69883C4.97656 2.65234 4.89453 2.625 4.80703 2.625C4.56914 2.625 4.375 2.82734 4.375 3.07891V10.9211C4.375 11.1727 4.56914 11.375 4.80703 11.375C4.89727 11.375 4.98203 11.3449 5.05039 11.2957Z","fill","black"],[1,"calendar"],["class","calendar__row",4,"ngFor","ngForOf"],[1,"calendar__row"],[1,"calendar__week"],["class","calendar__day",3,"click",4,"ngFor","ngForOf"],[1,"calendar__day",3,"click"],["class","calendar__day-name",4,"ngIf"],["class","calendar__stard-day",4,"ngIf"],[4,"ngIf"],[1,"calendar__day-name"],[1,"calendar__stard-day"],["class","calendar-events",3,"click",4,"ngFor","ngForOf"],[1,"calendar-events",3,"click"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"div",1)(2,"wbutton",2),p("click",function(){return n.setNow(),n.todayClicked.emit(n.selectedDate)}),h(3,"\u0421\u044C\u043E\u0433\u043E\u0434\u043D\u0456"),s()(),o(4,"div",3)(5,"div",4)(6,"i",5),p("click",function(){return n.setPreviousMonth()}),M(),o(7,"svg",6),k(8,"path",7),s()(),y(),o(9,"div",8)(10,"span"),h(11),s(),o(12,"span"),h(13),s()(),o(14,"i",9),p("click",function(){return n.setNextMonth()}),M(),o(15,"svg",6),k(16,"path",10),s()()()()(),y(),o(17,"div",11),g(18,Z,4,3,"div",12),s()),t&2&&(c(11),u(n.monthTitle[n.currentMonth]),c(2),u(n.currentYear),c(4),b("calendar-mobile",n.isMobile),c(),_("ngForOf",n.weeksInMonth))},dependencies:[E,S,$],styles:['@charset "UTF-8";.calendar[_ngcontent-%COMP%]{padding-top:20px;display:flex;flex-direction:column;height:100vh}.calendar__row[_ngcontent-%COMP%]{flex:1;display:flex;position:relative}.calendar__stard-day[_ngcontent-%COMP%]{text-align:center}.calendar__day[_ngcontent-%COMP%]{flex:1;background:var(--c-calendar);padding:10px 5px;border-radius:0;border:1px solid var(--border);font-weight:900;display:flex;flex-flow:column wrap}.calendar__day-name[_ngcontent-%COMP%]{color:var(--day-name);font-size:12px;font-weight:700;padding-bottom:3px;text-align:center}.calendar__week[_ngcontent-%COMP%]{position:absolute;width:30px;height:30px;background:#625959;display:flex;align-items:center;justify-content:center;border-radius:5px;color:#fff;top:-10px;left:-10px}.calendar-time[_ngcontent-%COMP%]{display:flex;align-items:center;color:var(--c-primary);line-height:1;justify-content:center;font-weight:300}.calendar-time__clock[_ngcontent-%COMP%]{display:flex;margin-right:7px}.calendar-time__clock[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:var(--c-primary)}.calendar-events[_ngcontent-%COMP%]{font-size:12px;background:var(--events);border-radius:5px;font-weight:500;color:#fff;padding:5px;margin-bottom:5px}.calendar-events__text[_ngcontent-%COMP%]{font-weight:900}.calendar-events__column[_ngcontent-%COMP%]{margin-right:20px}.calendar-events__row[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid #fff}.calendar-events__row[_ngcontent-%COMP%]:last-child{border:none}.calendar-events__name[_ngcontent-%COMP%]{color:var(--c-primary)}.calendar-nav[_ngcontent-%COMP%], .calendar-nav-year[_ngcontent-%COMP%]{display:flex;align-items:center}.calendar-nav-year__buttons[_ngcontent-%COMP%]{display:flex;align-items:center;width:250px;justify-content:space-between}.calendar-nav-year__buttons[_ngcontent-%COMP%]   .arrow-back[_ngcontent-%COMP%]{cursor:pointer}.calendar-nav-year__buttons[_ngcontent-%COMP%]   .arrow-back[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:var(--c-primary)}.calendar-nav-year__buttons[_ngcontent-%COMP%]   .arrow-next[_ngcontent-%COMP%]{cursor:pointer}.calendar-nav-year__buttons[_ngcontent-%COMP%]   .arrow-next[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:var(--c-primary)}.calendar-nav-year__data[_ngcontent-%COMP%]{margin:0 15px;font-size:20px}.calendar-nav-year__data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{margin-left:10px}.calendar-nav__today[_ngcontent-%COMP%]{margin-right:20px}.line[_ngcontent-%COMP%]{width:100%;z-index:1;background:#fff;height:1px;margin:15px 0}.event__item[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid var(--day-name);margin-bottom:10px}.event__icon[_ngcontent-%COMP%]{margin-right:10px}.event-text__left[_ngcontent-%COMP%]{display:flex}.event-text__title[_ngcontent-%COMP%]{font-weight:700}.event-text__row[_ngcontent-%COMP%]{display:flex;padding-bottom:5px}.event-text__column[_ngcontent-%COMP%]{margin-right:20px}.event-text__column-from[_ngcontent-%COMP%]{color:var(--c-primary);font-weight:900}.event-text__column-time[_ngcontent-%COMP%]{font-size:14px;color:var(--day-name)}.event-driver[_ngcontent-%COMP%]{border-left:1px solid var(--day-name);padding-left:10px}.event-driver__name[_ngcontent-%COMP%]{color:var(--c-primary);font-weight:900}.event-driver__phone[_ngcontent-%COMP%]{font-size:14px;color:var(--day-name)}.add-event-mobile[_ngcontent-%COMP%]{padding:10px 20px;margin-top:20px}@media screen and (max-width: 769px){.calendar-nav-year__buttons[_ngcontent-%COMP%]{width:unset}.calendar-nav__today[_ngcontent-%COMP%]{margin-right:10px}.calendar-nav-year__data[_ngcontent-%COMP%]{margin:0 15px;font-size:15px;font-weight:600}.calendar-mobile[_ngcontent-%COMP%]{height:fit-content}.calendar-mobile[_ngcontent-%COMP%]   .calendar-events[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .calendar-mobile[_ngcontent-%COMP%]   .calendar-events[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:none}.calendar-mobile[_ngcontent-%COMP%]   .calendar__day[_ngcontent-%COMP%]{margin:2px;padding:8px;border-radius:5px;min-height:70px;font-size:14px}.calendar-mobile[_ngcontent-%COMP%]   .calendar__week[_ngcontent-%COMP%]{width:21px;height:21px;font-size:12px}.calendar-mobile[_ngcontent-%COMP%]   .calendar-events[_ngcontent-%COMP%]{padding:2px}}']})}}return i})();var oe=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=P({type:i})}static{this.\u0275inj=w({imports:[T,F]})}}return i})();export{ee as a,oe as b};
